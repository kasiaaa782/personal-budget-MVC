{% extends "base.html" %}

{% block title %}Budżet osobisty - Bilans finansowy{% endblock %}

{% block navigation %} 
        <nav class="navbar navbar-dark navbar-expand-lg">
            <button class="navbar-toggler mx-auto" type="button" data-toggle="collapse" data-target="#mainmenu" aria-controls="mainmenu" aria-expanded="false" aria-label="Przełącznik nawigacji">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mainmenu" >
                <ol class="navbar-nav mx-auto">
                    <li class="nav-item mx-auto"><a class="nav-link" href="/posts/index">Strona główna</a></li>
                    <li class="nav-item mx-auto"><a class="nav-link" href="income">Dodaj przychód</a></li>
                    <li class="nav-item mx-auto"><a class="nav-link" href="expense">Dodaj wydatek</a></li>
                    <li class="nav-item mx-auto"><a class="nav-link active" href="balance">Przeglądaj bilans</a></li>
                    <li class="nav-item mx-auto"><a class="nav-link disabled" href="#">Ustawienia</a></li>
                    <li class="nav-item mx-auto"><a class="nav-link" href="/logout">Wyloguj się</a></li>
                </ol>
            </div>
        </nav>
{% endblock %}

{% block body %}
<!--
    <h1>Posts</h1>

   <ul>
        {% for post in posts %}
            <h2>{{ post.title }}</h2>
            <p>{{ post.content }}</p>
        {% endfor %}
    </ul>
    -->

    <div id="content_balance">
        <div class="container">
            <div class="justify-content-center mt-2">
                <div class="text-center" id="title">Bilans finansowy</div>
                <div>
                    <hr class="line mt-4 mb-3" style="width: 20em">
                </div>
                <div class="row justify-content-center">
                    <div class="text-center" id="period" >
                        Za okres od 01.09.2020 do 30.09.2020
                    <!--
                    <?php								
                        if(isset($_SESSION['sentencePeriod'])){
                            echo $_SESSION['sentencePeriod'];
                            unset($_SESSION['sentencePeriod']);
                        }
                        if(isset($_SESSION['dateError'])){
                            echo $_SESSION['dateError'];
                            unset($_SESSION['dateError']);
                        }
                    ?>
                    -->
                    </div>
                </div>
                <div class="text-center mt-2 mb-4" id="select_period_dropdown">
                    <button id="dropbutton">Wybierz okres</button>
                    <div id="dropdown-content">
                        <a href="balance?option=1">Bieżący miesiąc</a>
                        <a href="balance?option=2">Poprzedni miesiąc</a>
                        <a href="balance?option=3">Bieżący rok</a>
                        <a href="#myModal" data-toggle="modal" >Niestandardowy</a>
                    </div>
                    <!--Modal-->
                    <div class="modal fade text-body" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="myModalLabel">Wybierz przedział czasowy</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <form method="post" action="" >
                                    <div class="modal-body text-center mt-3 mb-3">
                                        <div id="selectPeriod">	
                                            od <input type="date" name="dateBegin" id="dateBegin">
                                            do <input type="date" name="dateEnd" id="dateEnd">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Anuluj</button>
                                        <button type="submit" class="btn btn-primary" >Pokaż</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table_name">PRZYCHODY</div>
            <div class="row justify-content-center">
                <table>
                    <tr>
                        <th>Kategoria</th>
                        <th>Kwota</th>
                    </tr>
                    <tr> 
                        <td>Wynagrodzenie</td>
                        <td id="salary">0.00</td>
                    </tr>
                    <tr> 
                        <td>Odsetki bankowe</td>
                        <td id="bankInterest">0.00</td>
                    </tr>
                    <tr>
                        <td>Sprzedaż na allegro</td>
                        <td id="allegro">0.00</td>
                    </tr>		
                    <tr>
                        <td>Inne</td>
                        <td id="otherIncome">0.00</td>
                    </tr>
                    <tr class="sum">
                        <td>Suma</td>
                        <td id="sumOfIncomes">0.00</td>
                    </tr>
                </table> 
            </div>
            <div class="table_name">WYDATKI</div>
            <div class="row justify-content-center">
                    <table>
                    <tr>
                        <th>Kategoria</th>
                        <th>Kwota</th>
                    </tr>
                    <tr>
                        <td>Transport</td>
                        <td id="transport">0.00</td>
                    </tr>
                    <tr>
                        <td>Książki</td>
                        <td id="books">0.00</td>
                    </tr>
                    <tr>
                        <td>Jedzenie</td>
                        <td id="eat">0.00</td>
                    </tr>
                    <tr>
                        <td>Mieszkanie</td>
                        <td id="accommodation">0.00</td>
                    </tr>
                    <tr>
                        <td>Telekomunikacja</td>
                        <td id="telecommunication">0.00</td>
                    </tr>
                    <tr>
                        <td>Opieka zdrowotna</td>
                        <td id="healthcare">0.00</td>
                    </tr>
                    <tr>
                        <td>Ubranie</td>
                        <td id="clothes">0.00</td>
                    </tr>
                    <tr>
                        <td>Higiena</td>
                        <td id="hygiene">0.00</td>
                    </tr>
                    <tr>
                        <td>Dzieci</td>
                        <td id="kids">0.00</td>
                    </tr>
                    <tr>
                        <td>Rozrywka</td>
                        <td id="entertainment">0.00</td>
                    </tr>
                    <tr>
                        <td>Wycieczka</td>
                        <td id="trip">0.00</td>
                    </tr>
                    <tr>
                        <td>Oszczędności</td>
                        <td id="savings">0.00</td>
                    </tr>
                    <tr>
                        <td>Emerytura</td>
                        <td id="pension">0.00</td>
                    </tr>
                    <tr>
                        <td>Spłata długów</td>
                        <td id="debts">0.00</td>
                    </tr>
                    <tr>
                        <td>Darowizna</td>
                        <td id="donation">0.00</td>
                    </tr>
                    <tr>
                        <td>Inne wydatki</td>
                        <td id="otherExpenses">0.00</td>
                    </tr>
                    <tr class="sum">
                        <td>Suma</td>
                        <td id="sumOfExpenses">0.00</td>
                    </tr>
                </table> 
            </div>
            <div class="row justify-content-center">
                <div class="row col-12 justify-content-center">		
                    <div id="piechart"></div>
                </div>
                <div id="balance">
                    <div id="balance1">BILANS</div>
                    <div>0.00 </div>
                    <div id="score">
                    <!--
                    <?php
                    if(isset($_SESSION['balance'])){
                        if($_SESSION['balance'] > 0){
                            echo 'Gratulacje! Świetnie zarządzasz finansami!';
                        } else if ($_SESSION['balance'] == 0) {
                            echo 'Nie udało Ci się zaoszczędzić.'.'<br/>'.'Wychodzisz na zero!';
                        } else {
                            echo 'Uważaj! Wpadasz w długi!';
                        }
                        unset($_SESSION['balance']);
                    }
                    ?>-->
                    </div>
                    
                </div>
            </div>
        </div>
    </div>


{% endblock %}
